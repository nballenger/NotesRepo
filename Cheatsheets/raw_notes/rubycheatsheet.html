<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Ruby Cheatsheet</title>
        <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/smoothness/jquery-ui.min.css" />
        <style type="text/css">
        /* http://meyerweb.com/eric/tools/css/reset/ 
           v2.0 | 20110126
           License: none (public domain)
        */

        html, body, div, span, applet, object, iframe,
        h1, h2, h3, h4, h5, h6, p, blockquote, pre,
        a, abbr, acronym, address, big, cite, code,
        del, dfn, em, img, ins, kbd, q, s, samp,
        small, strike, strong, sub, sup, tt, var,
        b, u, i, center,
        dl, dt, dd, ol, ul, li,
        fieldset, form, label, legend,
        table, caption, tbody, tfoot, thead, tr, th, td,
        article, aside, canvas, details, embed, 
        figure, figcaption, footer, header, hgroup, 
        menu, nav, output, ruby, section, summary,
        time, mark, audio, video {
            margin: 0;
            padding: 0;
            border: 0;
            font-size: 100%;
            font: inherit;
            vertical-align: baseline;
        }
        /* HTML5 display-role reset for older browsers */
        article, aside, details, figcaption, figure, 
        footer, header, hgroup, menu, nav, section {
            display: block;
        }
        body {
            line-height: 1;
        }
        ol, ul {
            list-style: none;
        }
        blockquote, q {
            quotes: none;
        }
        blockquote:before, blockquote:after,
        q:before, q:after {
            content: '';
            content: none;
        }
        table {
            border-collapse: collapse;
            border-spacing: 0;
        }        

        html {
            font-size: 62.5%;
            font-family: Verdana, sans-serif;
        }        
        
        article {
            font-size: 12px;
            font-size: 1.2rem;
        }
        
        section {

        }
        
        h1 {
            font-size: 30px; font-size: 3.0rem;            
            margin: 10px 10px 18px 10px;
        }
        h2, section h1 {
            font-size: 24px; font-size: 2.4rem;
            margin: 8px 8px 16px 8px;
        }
        h3, section section h1, section h2 {
            font-size: 19px; font-size: 1.9rem;
        }
        h4, section section section h1, section section h2, section h3 {
            font-size: 15px; font-size: 1.5rem;
        }
        h5, section section section section h1, section section section h2, section section h3, section h4 {
            font-size: 13.5px; font-size: 1.35rem;
        }
        h6, section section section section section h1, section section section section h2, section section section h3, section section h4, section h5 {
            font-size: 10.5px; font-size: 1.05rem;
        }
        
        pre { 
            font-family: 'Andale Mono', 'Courier New', monospace;
            background-color: #073642;
            color: #93A1A1;
            font-size: 14px; font-size: 1.4rem;
            padding: 10px;
            margin: 10px;
            border-radius: 8px;
        }
        
        pre .conditional { color: #268BD2;}
        pre .number { color: #B58900;}
        pre .operator { }
        pre .method {}
        pre .scalar { color: #859900; }
        pre .boolean { color: #CB4B16; }
        pre .variable { color: #2AA198; }
        
        table { border-collapse: collapse; margin: 8px auto; }
        th, td { border: 1px solid #999999; padding: 8px; }
        </style>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
        <script type="text/javascript">
        $(document).ready(function() {
            $("#tabs").tabs();
            console.log('foo');
        });
        </script>
    </head>
    <body>
        <article id="ruby-cheatsheet">
            <header>
                <hgroup>
                    <h1>Ruby Cheatsheet</h1>
                </hgroup>
            </header>
            
            <div id="tabs">
                <ul>
                    <li><a href="#tabs-operators-and-conditionals">Operators &amp; Conditionals</a></li>
                    <li><a href="#tabs-loops">Loops</a></li>
                    <li><a href="#tabs-strings">Strings</a></li>
                    <li><a href="#tabs-numbers">Numbers</a></li>
                    <li><a href="#tabs-arrays">Arrays</a></li>
                    <li><a href="#tabs-hashes">Hashes</a></li>
                    <li><a href="#tabs-file-access">File Access</a></li>
                    <li><a href="#tabs-classes">Classes</a></li>
                </ul>
                <div id="tabs-operators-and-conditionals">
            <section id="operators">
                <h1>Operators</h1>
                <table>
                    <tbody>
                        <tr>
                            <th>Mathematical</th>
                            <td><code>+ - * / ** %</code></td>
                        </tr>
                        <tr>
                            <th>Logical</th>
                            <td><code>&& || ! and or not</code></td>
                        </tr>
                        <tr>
                            <th>Comparison</th>
                            <td><code>== != > < >= <=> .eql?</code></td>
                        </tr>
                        <tr>
                            <th>Assignment</th>
                            <td><code>= += -= *= **= %= &= ^= ||=</code></td>
                        </tr>
                        <tr>
                            <th>Bitwise</th>
                            <td><code>~ | & ^ << >></code></td>
                        </tr>
                        <tr>
                            <th>Ranges</th>
                            <td><code>.. (open range) ... (closed range) === (in range test) (1..9).to_a (to array)</code></td>
                        </tr>
                    </tbody>
                    <tfoot></tfoot>
                </table>
            </section>
            
            <section id="conditionals">
                <h1>Conditionals</h1>
                <h2>if/elsif/else</h2>
<pre><span class="conditional">if</span> <span class="number">1</span> <span class="operator">==</span> <span class="number">1</span>
    <span class="method">print</span> <span class="scalar">"true"</span>
<span class="conditional">end</span>

<span class="conditional">if</span> <span class="number">1</span> <span class="operator">==</span> <span class="number">1</span><span class="conditional">:</span> <span class="method">print</span> <span class="scalar">"true"</span> <span class="conditional">end</span>

<span class="method">print</span> <span class="scalar">"true"</span> <span class="conditional">if</span> <span class="number">1</span> <span class="operator">==</span> <span class="number">1</span>

<span class="conditional">if</span> <span class="variable">x</span>
    <span class="variable">y</span> <span class="operator">=</span> <span class="boolean">true</span>
<span class="conditional">else</span>
    <span class="variable">y</span> <span class="operator">=</span> <span class="boolean">false</span>
<span class="conditional">end</span>

<span class="conditional">if</span> <span class="variable">x</span> <span class="operator">==</span> <span class="number">1</span>
    <span class="variable">y</span> <span class="operator">=</span> <span class="scalar">'a'</span>
<span class="conditional">elsif</span> <span class="variable">x</span> <span class="operator">==</span> <span class="number">2</span>
    <span class="variable">y</span> <span class="operator">=</span> <span class="scalar">'b'</span>
<span class="conditional">else</span>
    <span class="variable">y</span> <span class="operator">=</span> <span class="scalar">'c'</span>
<span class="conditional">end</span>

<span class="conditional">if</span>    <span class="variable">x</span> <span class="operator">==</span> <span class="number">1</span><span class="conditional">:</span> <span class="variable">y</span> <span class="operator">=</span> <span class="scalar">'a'</span>
<span class="conditional">elsif</span> <span class="variable">x</span> <span class="operator">==</span> <span class="number">2</span><span class="conditional">:</span> <span class="variable">y</span> <span class="operator">=</span> <span class="scalar">'b'</span>
<span class="conditional">else</span>          <span class="variable">y</span> <span class="operator">=</span> <span class="scalar">'c'</span>
<span class="conditional">end</span></pre>

                <h2>Ternary</h2>
<pre><span class="variable">x</span> <span class="operator">=</span> <span class="variable">x</span> <span class="operator">==</span> <span class="number">1</span> <span class="conditional">?</span> <span class="scalar">'a'</span> <span class="conditional">:</span> <span class="scalar">'b'</span></pre>
                
                <h2>Case</h2>
<pre><span class="variable">y</span> <span class="operator">=</span> <span class="conditional">case</span> <span class="variable">x</span>
    <span class="conditional">when</span> <span class="number">1</span><span class="conditional">:</span> <span class="scalar">'a'</span>
    <span class="conditional">when</span> <span class="number">2</span><span class="conditional">:</span> <span class="scalar">'b'</span>
    <span class="conditional">else</span>    <span class="scalar">'c'</span>
<span class="conditional">end</span>

<span class=variable">z</span> <span class="operator">=</span> <span class="number">5</span>
<span class="conditional">case</span> <span class="variable">z</span>
    <span class="conditional">when</span>    <span class="number">0</span><span class="conditional">:</span> <span class="method">puts</span> <span class="scalar">"lowest"</span>
    <span class="conditional">when</span> <span class="number">1</span><span class="operator">..</span><span class="number">3</span><span class="conditional">:</span> <span class="method">puts</span> <span class="scalar">"medium-low"</span>
    <span class="conditional">when</span> <span class="number">4</span><span class="operator">..</span><span class="number">5</span><span class="conditional">:</span> <span class="method">puts</span> <span class="scalar">"medium"</span>
    <span class="conditional">when</span> <span class="number">6</span><span class="operator">..</span><span class="number">7</span><span class="conditional">:</span> <span class="method">puts</span> <span class="scalar">"medium-high"</span>
    <span class="conditional">when</span> <span class="number">8</span><span class="operator">..</span><span class="number">9</span><span class="conditional">:</span> <span class="method">puts</span> <span class="scalar">"high"</span>
    <span class="conditional">when</span>   <span class="number">1</span><span class="number">0</span><span class="conditional">:</span> <span class="method">puts</span> <span class="scalar">"highest"</span>
    <span class="conditional">else</span>       <span class="method">puts</span> <span class="scalar">"off scale"</span>
<span class="conditional">end</span></pre>

            </section>
            </div>
            <div id="tabs-loops">
            <section id="loops">
                <h1>Loops</h1>
                <h2>While</h2>
<pre><span class="conditional">while</span> <span class="variable">i</span> </span class="operator">&lt;</span> <span class="variable">breeds</span><span class="operator">.</span><span class="method">size</span> <span class="conditional">do</span>
    <span class="variable">temp</span> <span class="operator">&lt;&lt;</span> <span class="variable">breeds</span><span class="operator">[</span><span class="variable">i</span><span class="operator">].</span><span class="method">capitalize</span>
    <span class="variable">i</span> <span class="operator">+=</span> <span class="number">1</span>
<span class="conditional">end</span>

<span class="conditional">while</span> i < breeds.size
    <span class="variable">temp</span> <span class="operator">&lt;&lt;</span> <span class="variable">breeds</span><span class="operator">[</span><span class="variable">i</span><span class="operator">].</span><span class="method">capitalize</span>
    <span class="variable">i</span> <span class="operator">+=</span> <span class="number">1</span>
<span class="conditional">end</span>

<span class="variable">temp</span> <span class="operator">=</span> <span class="number">98.3</span>
<span class="conditional">begin</span>
    <span class="method">print</span> <span class="scalar">"Your temp is "</span> <span class="operator">+</span> <span class="variable">temp</span><span class="operator">.</span><span class="method">to_s</span> <span class="operator">+</span> <span class="scalar">" Fahrenheit. "</span>
    <span class="method">puts</span> <span class="scalar">"I think you're okay."</span>
    <span class="variable">temp</span> <span class="operator">+=</span> <span class="number">0.1</span>
<span class="conditional">end</span> <span class="conditional">while</span> <span class="variable">temp</span> <span class="operator">&lt;</span> <span class="number">98.6</span>

<span class="variable">cash</span> <span class="operator">+=</span> <span class="number">1.00</span><span class="operator">,</span> <span class="variable">sum</span> <span class="conditional">while</span> <span class="variable">cash</span> <span class="operator">&lt;</span> <span class="number">1_000_000.00</span></pre>

                <h2>Break</h2>
<pre><span class="conditional">while</span> <span class="variable">i</span> <span class="operator">&lt;</span> <span class="variable">breeds</span><span class="operator">.</span><span class="method">size</span>
    <span class="variable">temp</span> <span class="operator">&lt;&lt;</span> <span class="variable">breeds</span><span class="operator">[</span><span class="variable">i</span><span class="operator">].</span><span class="method">capitalize</span>
    <span class="conditional">break if</span> <span class="variable">temp</span><span class="operator">[</span><span class="variable">i</span><span class="operator">] ==</span> <span class="scalar">"Arabian"</span>
    <span class="variable">i</span> <span class="operator">+=</span> <span class="scalar">1</span>
<span class="conditional">end</span>
<span class="variable">p</span> <span class="operator">=&gt;</span> <span class="variable">temp</span></pre>

                <h2>Unless/Until</h2>
<pre><span class="comment"># Simple unless</span>
<span class="conditional">unless</span> <span class="variable">lang</span> <span class="operator">==</span> <span class="scalar">"de"</span>
    <span class="variable">dog</span> <span class="operator">=</span> <span class="scalar">"dog"</span>
<span class="conditional">else</span>
    <span class="variable">dog</span> <span class="operator">=</span> <span class="scalar">"Hund"</span>
<span class="conditional">end</span>


<span class="comment"># Inline form</span>
<span class="method">puts</span> <span class="variable">age</span> <span class="operator">+=</span> <span class="scalar">1</span> <span class="conditional">unless</span> <span class="variable">age</span> <span class="operator">&gt;</span> <span class="scalar">29</span>


<span class="comment"># Like do/while</span>
<span class="variable">weight</span> <span class="operator">=</span> <span class="scalar">150</span>
<span class="conditional">begin</span>
    <span class="method">puts</span> <span class="scalar">"Weight: "</span> <span class="operator">+</span> <span class="variable">weight</span><span class="operator">.</span><span class="method">to_s</span>
    <span class="variable">weight</span> <span class="operator">+=</span> <span class="scalar">5</span>
<span class="conditional">end until</span> <span class="variable">weight</span> <span class="operator">==</span> <span class="scalar">200</span>


<span class="comment"># As statement modifier:</span>
<span class="method">puts</span> <span class="variable">age</span> <span class="operator">+=</span> <span class="scalar">1</span> <span class="conditional">until</span> <span class="variable">age</span> <span class="operator">&gt;</span> <span class="scalar">28</span></pre>
    
                <h2>Loop</h2>
<pre><span class="comment"># runs continuously until break, comes from Kernel</span>
<span class="conditional">loop do</span>
    <span class="method">print</span> <span class="scalar">"Type something: "</span>
    <span class="variable">line</span> <span class="operator">=</span> <span class="method">gets</span>
    <span class="conditional">break if</span> <span class="variable">line</span> <span class="operator">=~</span> <span class="scalar">/q|Q/</span>
    <span class="method">puts</span> <span class="variable">line</span>
<span class="conditional">end</span></pre>

                <h2>For</h2>
                
<pre><span class="comment"># simple example</span>
<span class="conditional">for</span> <span class="variable">i</span> <span class="operator">in</span> <span class="scalar">1</span><span class="operator">..</span><span class="scalar">5</span> <span class="conditional">do</span>
    <span class="method">print</span> <span class="variable">i</span><span class="operator">,</span> <span class="scalar">" "</span>
<span class="conditional">end</span>

<span class="comment"># alternately</span>
<span class="conditional">for</span> <span class="variable">i</span> <span class="operator">in</span> <span class="scalar">1</span><span class="operator">..</span><span class="scalar">5</span>
    <span class="method">print</span> <span class="variable">i</span><span class="operator">,</span> <span class="scalar">" "</span>
<span class="conditional">end</span>

<span class="comment"># one liner</span>
<span class="conditional">for</span> <span class="variable">i</span> <span class="operator">in</span> <span class="scalar">1</span><span class="operator">..</span><span class="scalar">5</span> <span class="conditional">do</span> <span class="method">print</span> <span class="variable">i</span><span class="operator">,</span> <span class="scalar">" "</span> <span class="conditional">end</span>

<span class="comment"># using 'times'</span>
<span class="scalar">10</span><span class="operator">.</span><span class="method">times</span> <span class="conditional">{</span> <span class="operator">|</span><span class="variable">i</span><span class="operator">|</span> <span class="method">print</span> <span class="variable">i</span><span class="operator">,</span> <span class="scalar">" "</span> <span class="conditional">}</span>

<span class="comment"># using 'upto'</span>
<span class="scalar">1</span><span class="operator">.</span><span class="method">upto</span><span class="operator">(</span><span class="scalar">10</span><span class="operator">)</span> <span class="conditional">{</span> <span class="operator">|</span><span class="variable">i</span><span class="operator">|</span> <span class="method">print</span> <span class="variable">i</span><span class="operator">,</span> <span class="scalar">" "</span> <span class="conditional">}</span>

<span class="comment"># using 'downto'</span>
<span class="scalar">5</span><span class="operator">.</span><span class="method">downto</span><span class="operator">(</span><span class="scalar">1</span><span class="operator">)</span> <span class="conditional">{</span> <span class="operator">|</span><span class="variable">i</span><span class="operator">|</span> <span class="method">print</span> <span class="variable">i</span><span class="operator">,</span> <span class="scalar">" "</span> <span class="conditional">}</span></pre>

                <h2>BEGIN and END</h2>
<pre><span class="conditional">BEGIN {</span> <span class="method">puts</span> <span class="scalar">"Date and time: "</span> <span class="operator">+</span> CLASSTime</span><span class="operator">.</span><span class="method">now</span><span class="operator">.</span><span class="method">to_s</span> <span class="conditional">}</span>
<span class="operator">def</span> <span class="method">bmi</span><span class="operator">(</span><span class="variable">w</span><span class="operator">,</span> <span class="variable">h</span><span class="operator">)</span>
    <span class="scalar">703.00</span><span class="operator">*(</span><span class="variable">w</span><span class="operator">.</span><span class="method">to_f</span><span class="operator">/</span><span class="operator">(</span><span class="variable">h</span><span class="operator">.</span><span class="method">to_f</span><span class="operator">**</span><span class="scalar">2</span><span class="operator">))</span>
<span class="conditional">end</span>

<span class="variable">my_bmi</span> <span class="operator">=</span> <span class="method">bmi</span><span class="operator">(</span><span class="scalar">196</span><span class="operator">,</span><span class="scalar">73</span><span class="operator">)</span>

<span class="method">puts</span> <span class="scalar">"Your BMI is: "</span> <span class="operator">+</span> <span class="variable">x</span> <span class="operator">=</span> <span class="method">sprintf</span><span class="operator">(</span><span class="scalar">"%0.2f"</span><span class="operator">,</span> <span class="variable">my_bmi</span><span class="operator">)</span>

<span class="conditional">END {</span> <span class="method">puts</span> <span class="scalar">"Blah blah blah."</span> <span class="conditional">}</span></pre>               
            </section>
                </div>
                <div id="tabs-strings">
<section id="strings">
                <h1>Strings</h1>
                <h2>Instantiation</h2>
<pre><span class="variable">x</span> <span class="operator">=</span> <span class="class">String</span><span class="operator">.</span><span class="method">new</span>
<span class="variable">x</span> <span class="operator">=</span> <span class="class">String</span><span class="operator">.</span><span class="method">new</span><span class="operator">(</span><span class="scalar">"This is a string."</span><span class="operator">)</span>
<span class="variable">x</span> <span class="operator">=</span> <span class="scalar">"This is a string."</pre>

                <h2>Quote Styles and Heredocs</h2>
<pre><span class="scalar">'abc'</span>           <span class="comment"># Preserves escaped characters</span>
<span class="scalar">"abc"</span>           <span class="comment"># Interprets escaped characters</span>
<span class="operator">%!</span><span class="scalar">abc</span><span class="operator">!</span>          <span class="comment"># General delimited strings</span>
<span class="operator">%[</span><span class="scalar">abc</span><span class="operator">]</span>
<span class="operator">%(</span><span class="scalar">abc</span><span class="operator">)</span>

<span class="variable">x</span> <span class="operator">=</span> <span class="operator">&lt;&lt;</span><span class="operator">end</span>       <span class="comment"># heredoc like double quotes</span>
<span class="operator">end</span>
<span class="variable">x</span> <span class="operator">=</span> <span class="operator">&lt;&lt;</span><span class="operator">"end"</span>     <span class="comment"># heredoc like double quotes</span>
end        
x = &lt;&lt;'end'     # heredoc like single quotes</span>
end
x = &lt;&lt;`end`     # heredoc like backticks</span>
end
x = &lt;&lt;-end      # allows indentation</span>
end</pre>

                <h2>Concatenation</h2>
<pre>"a" "b" "c"
"a" + "b" + "c"
"a" << "b" << "c"
"a".concat "b"</pre>

                <h2>Accessing Strings</h2>
<pre>x = 'abcdef'
x['cde']        # returns string if found
x[1]            # returns charcode of pos 1
x[1].chr        # returns character at pos 1
x[0..4]         # inclusive range selection
x[0...4]        # exclusive range selection
x[/cde/]        # via regex</pre>

                <h2>Comparisons</h2>
<pre>a == b          # full equality test
a.eql? b        # full equality test
a <=> b         # compares character codes
a casecmp b     # case insensitive character comparison</pre>

                <h2>String Methods</h2>
<pre><span class="variable">x</span><span class="operator">.</span><span class="method">size</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">length</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">freeze</span>        <span class="comment"># make immutable</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">frozen?</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">index</span><span class="operator">(</span><span class="scalar">'a'</span><span class="operator">)</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">insert</span><span class="operator">(</span><span class="number">2</span><span class="operator">,</span><span class="scalar">'b'</span><span class="operator">)</span>
<span class="variable">x</span> <span class="operator">*</span> <span class="number">4</span>           <span class="comment"># repeats 4 times</span>
<span class="variable">x</span><span class="operator">[</span><span class="scalar">'abc'</span><span class="operator">]=</span> <span class="scalar">'xyz'</span> <span class="comment"># substitutes in place</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">chop</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">chop!</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">chomp</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">chomp!</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">delete</span> <span class="scalar">"b"</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">gsub</span> <span class="scalar">"abc"</span><span class="operator">,</span><span class="scalar">"xyz"</span> <span class="comment"># substring replacement</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">replace</span> <span class="scalar">"xyz"</span> <span class="comment"># replaces entire string</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">reverse</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">reverse!</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">split</span>         <span class="comment"># returns ['abcdef']</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">split</span><span class="operator">(//)</span>     <span class="comment"># returns array of letters</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">capitalize</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">capitalize!</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">downcase</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">upcase</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">swapcase</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">ljust</span> <span class="number">10</span>      <span class="comment"># adds right padding</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">rjust</span> <span class="number">10</span>      <span class="comment"># adds left padding</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">ljust</span><span class="operator">(</span><span class="number">20</span><span class="operator">,</span><span class="scalar">'-'</span><span class="operator">)</span> <span class="comment"># pads with string</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">center</span> <span class="number">30</span>     <span class="comment"># centers</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">center</span> <span class="number">30</span><span class="operator">,</span><span class="scalar">'-'</span> <span class="comment"># centers with string</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">lstrip</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">rstrip</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">strip</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">class</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">to_f</span>          <span class="comment"># to float</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">to_i</span>          <span class="comment"># to integer</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">intern</span>        <span class="comment"># :abcdef</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">to_sym</span>        <span class="comment"># :abcdef</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">grep</span><span class="operator">(/</span><span class="scalar">abc</span><span class="operator">/)</span>   <span class="comment"># search with Enumerable.grep</span>

<span class="comment"># next/succ methods increments the rightmost character</span>
<span class="scalar">"a"</span><span class="operator">.</span><span class="method">next</span>    <span class="comment"># => "b"</span>
<span class="scalar">"aa"</span><span class="operator">.</span><span class="method">succ</span>   <span class="comment"># => "ab"</span>        


<span class="comment"># splitting by lines</span>
<span class="scalar">"A\nB\nC\nD"</span><span class="operator">.</span><span class="method">each</span> <span class="conditional">{</span> <span class="operator">|</span><span class="variable">item</span><span class="operator">|</span> <span class="method">puts</span> <span class="variable">item</span><span class="operator">.</span><span class="method">capitalize</span> <span class="conditional">}</span>

<span class="comment"># splitting by bytes</span>
<span class="scalar">"ABCD"</span><span class="operator">.</span><span class="method">each_byte</span> <span class="conditional">{</span> <span class="operator">|</span><span class="variable">b</span><span class="operator">|</span> <span class="method">print</span> <span class="variable">b</span><span class="operator">,</span> <span class="scalar">"/"</span> <span class="conditional">}</span></pre>

            </section>
                </div>
                <div id="tabs-numbers">
<section id="numbers">
                <h1>Numbers</h1>
                <h2>Operators</h2>
<pre><span class="comment"># Operators: + - * / ** %
# Unary: + -
# Named: .div .modulo .divmod .quo .remainder
#
# Integer division results in truncated Int result
# .div returns only integral part, truncates decimal part</span></pre>
        
                <h2>Introspection</h2>
<pre><span class="variable">x</span><span class="operator">.</span><span class="method">zero?</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">nonzero?</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">finite?</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">infinite?</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">nan?</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">inspect</span></pre>
    
                <h2>Iteration</h2>
    <pre>10.times { |i| print i, " " }</pre>
    
                <h2>Methods</h2>
<pre>x.abs
x.ceil
x.floor
x.round
x.next
x.chr</pre>
    
                <h2>Math Functions</h2>
<pre>Math.constants # => ["E", "PI"]
Math.exp(1) # Euler to the power of x
Math.sqrt
Math.log(Math::E) # => 1.0
Math.log(1)</pre>
    
                <h2>Rational Numbers</h2>
<pre>require 'rational'
require 'mathn'

rat = Rational(25/100)

rat + Rational(1/4)
rat + 1/4

rat - Rational(1/8)
rat - 1/8

rat * 3
rat / 2

rat % Rational(1/2)

rat**2</pre>        
    
                <h2>Primes</h2>
    
<pre>require 'mathn'

prime_number = Prime.new
prime_number.next
prime_number.succ

puts "The next prime is " + prime_number.next.to_s + "."</pre>            
            </section>
                </div>
                <div id="tabs-arrays">
<section id="arrays">
                <h1>Arrays</h1>
                <h2>Instantiation</h2>
<pre>x = Array.new
x = Array.new(12)
x = Array.new(12, "defaultstring")

x = Array.new(10) { |e| e = e * 2 }

x = Array.[]("a","b","c")
x = Array["a","b","c"]
x = ["a","b","c"]
x = %w[a b c]</pre>

                <h2>Accessing Elements</h2>
<pre>x[0]
x[-1]
x[0,3]</pre>

                <h2>Adding/Removing Elements</h2>
<pre>x.pop
x.push('a')
x.shift
x.unshift('a')

x.insert(0,'a')
x[2..4] = "a","b","c"   # range replace
x[2,2]  = "a","b","c"   # start and length replace

x.delete "a"
x.delete_at(1)</pre>

                <h2>Iteration</h2>
<pre>x.each { |e| print e.capitalize + " " }  # performs iteration
x.map  { |e| print e.capitalize + " " }  # performs iteration, returns array</pre>

                <h2>Concatenation</h2>
<pre>x + y
x << y
x.concat(y)</pre>

                <h2>Set Operations</h2>
<pre>& intersection
- difference
| union</pre>

                <h2>Array Methods</h2>
<pre><span class="variable">x</span><span class="operator">.</span><span class="method">empty?</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">size</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">clear</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">slice</span><span class="operator">(</span><span class="number">0</span><span class="operator">,</span><span class="number">3</span><span class="operator">)</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">first</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">last</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">at</span><span class="operator">(</span><span class="number">0</span><span class="operator">)</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">first</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">include?</span> <span class="scalar">'a'</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">uniq</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">uniq!</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">sort</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">sort!</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">reverse</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">flatten</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">transpose</span>     <span class="comment"># converts [["a", 1], ["b", 2], ["c", 3]]
                # to       [["a","b","c"], [1,2,3]]</span></pre>                    
            </section>                
                </div>
                <div id="tabs-hashes">
<section id="hashes">
                <h1>Hashes</h1>
                <h2>Instantiation</h2>
<pre>x = Hash.new
x = Hash.new('defaultstring')
x = Hash.new 'defaultstring'
x = Hash[:key1, "val1", :key2, "val2"]
x = Hash[:key1 => "val1", :key2 => "val2"]
x = {"key1" => "val1", "key2" => "val2"}</pre>

                <h2>Accessing Elements</h2>
<pre>x["key1"]

x.select { |key,val| key > 1000 } # returns elements matching block</pre>

                <h2>Iteration</h2>
<pre>x.each { |k,v| puts "#{k}/#{v}" }</pre>

                <h2>Changing Values</h2>
<pre><span class="variable">x</span><span class="operator">[</span><span class="scalar">'key1'</span><span class="operator">]=</span> <span class="scalar">"val3"</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">merge</span> <span class="variable">y</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">delete</span><span class="operator">(</span><span class="scalar">'key2'</span><span class="operator">)</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">delete</span><span class="operator">(</span><span class="scalar">'key3'</span><span class="operator">)</span> <span class="conditional">{</span> <span class="operator">|</span><span class="variable">key</span><span class="operator">|</span> <span class="method">puts</span> <span class="scalar">"not found"</span> <span class="conditional">}</span> <span class="comment"># block runs if key not found</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">delete_if</span> <span class="conditional">{</span> <span class="operator">|</span><span class="variable">k</span><span class="operator">,</span><span class="variable">v</span><span class="operator">|</span> <span class="variable">k</span><span class="operator">&lt;</span><span class="number">3</span> <span class="conditional">}</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">replace</span><span class="operator">(</span><span class="variable">y</span><span class="operator">)</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">clear</pre>

                <h2>Class Conversions</h2>
<pre><span class="variable">x</span><span class="operator">.</span><span class="method">to_s</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">to_a</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">to_hash</span></pre>

                <h2>Hash Methods</h2>
<pre><span class="variable">x</span><span class="operator">.</span><span class="method">empty?</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">length</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">size</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">has_key?</span> <span class="scalar">'a'</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">has_value?</span> <span class="scalar">'b'</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">keys</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">values</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">values_at</span> <span class="scalar">'a'</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">values_at</span> <span class="scalar">'a'</span>,<span class="scalar">'b'</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">index</span> <span class="scalar">'val2'</span>
<span class="variable">x</span><span class="operator">.</span><span class="method">sort</span> <span class="comment"># sorts by key</span></pre>
            </section>                
                </div>
                <div id="tabs-file-access">
<section id="files">
                <h1>File Access</h1>

                <h2>Directories</h2>

<pre>Dir.chdir("/Users/abe")
home = Dir.pwd
Dir.mkdir("/Users/abe/xyz")
Dir.rmdir("/Users/abe/xyz")
Dir.mkdir("/Users/abe/xyz", 755)

Dir.entries("/usr/local/src/ruby-1.8.6").each { |e| puts e }
Dir.foreach("/usr/local/src/ruby-1.8.6") { |e| puts e }

dir = Dir.open("/usr/local/src/ruby-1.8.6")
dir.path    # "/usr/local/src/ruby-1.8.6"
dir.tell    # "."
dir.read    # 1
dir.tell    # ".."
dir.rewind  # rewind to beginning
dir.each { |e| puts e } # puts each entry in dir
dir.close</pre>

                <h2>Creating Files</h2>

<pre>file = File.new("file.rb", "w")</pre>

                <table>
                    <thead>
                        <tr>
                            <th colspan="2">File Modes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th>"r"</th>
                            <td>Read only (default)</td>
                        </tr>
                        <tr>
                            <th>"r+"</th>
                            <td>Read-write</td>
                        </tr>
                        <tr>
                            <th>"w"</th>
                            <td>Write-only, truncates file or creates new</td>
                        </tr>
                        <tr>
                            <th>"w+"</th>
                            <td>Read-write, truncates file or creates new</td>
                        </tr>
                        <tr>
                            <th>"a"</th>
                            <td>Write-only, appends</td>
                        </tr>
                        <tr>
                            <th>"a+"</th>
                            <td>Read-write, appends</td>
                        </tr>
                        <tr>
                            <th>"b"</th>
                            <td>Binary mode, windows only</td>
                        </tr>
                    </tbody>
                </table>

<pre>file = File.open("sonnet_129.txt")
file.each { |line| print "#{file.lineno}. ", line }
file.close

ARGV << "sonnet_129.txt" # ARGV is an array, also called $*
print while gets

while line = ARGF.gets # ARGF is a virtual concat of all files from CLI ($<)
    print line
end

File.new("books.txt", "w")
File.rename("books.txt", "chaps.txt")
File.delete("chaps.txt")
</pre>

                <h2>Opening a URI</h2>

<pre>require 'open-uri'
url = 'http://www.google.com/search?q=ruby'
open(url) { |page| page_content = page.ready()

links = page_content.scan(/&lt;a class=l.*?href=\"(.*?\"/).flatten
links.each { |link| puts link }</pre>

                <h2>File Methods</h2>

<pre>File::exists?("filename")
File.file?("possiblefile.txt")
File::directory?("/usr/local/bin")
File.readable?("filename")
File.writable?("filename")
File.executable?("filename")
File.zero?("filename")
File.size?("filename")
File::ftype("filename")
File::ctime("filename")
File::mtime("filename")
File::atime("filename")
file.chmod(0755)
file.chown(109,3333)</pre>

                <h2>The IO Class</h2>

                <table>
                    <thead>
                        <tr>
                            <th colspan="4">Standard Streams</th>
                        </tr>
                        <tr>
                            <th>Stream Description</th>
                            <th>File Descriptor</th>
                            <th>Predefined Ruby Var</th>
                            <th>Ruby Env Var</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th>Standard input stream</th>
                            <td>0</td>
                            <td><code>$stdin</code></td>
                            <td><code>STDIN</code></td>
                        </tr>
                        <tr>
                            <th>Standard output stream</th>
                            <td>1</td>
                            <td><code>$stdout</code></td>
                            <td><code>STDIN</code></td>
                        </tr>
                        <tr>
                            <th>Standard error stream</th>
                            <td>2</td>
                            <td><code>$stderr</code></td>
                            <td><code>STDERR</code></td>
                        </tr>
                    </tbody>
                </table>
<pre>ios = IO.new(1,"w")
ios.puts "a string"
$stdout.puts "another string"
ios.fileno      # 1
ios.to_i        # 1
$stdout.fileno  # 1
ios << "string1" << "string2"
ios.flush
ios.close

ios = IO.new(1)
ios.putc "M"
ios.putc "N"
ios.getc # "MN"

file = File.new("filename")
file.gets
file.readline   # raises EOFError on EOF</pre>            
            </section>                
                </div>
                
                <div id="tabs-classes">
                    <section id="classes">
                        <h1>Classes</h1>
                        <h2>General Ruby Class Info</h2>
                        <ul>
                            <li>Supports only single inheritance</li>
                            <li>'initialize' is init method by convention</li>
                            <li>'initialize' method is always private, executed first</li>
                            <li>All classes can be extended by defining additional methods</li>
                            <li>Instance variables prefixed with @</li>
                            <li>Class variables prefixed with @@</li>
                            <li>Modules are like classes, but cannot be instantiated</li>
                            <li>If a class includes a module, the module methods become class methods</li>
                            <li>If you prefix a method def in a module with the module name, it will become globally callable.</li>
                            <li>public class members are available anywhere the class is available</li>
                            <li>private members use the current object as their scope</li>
                            <li>protected members can be used only by instances of the class where it was defined, or derived classes</li>
                        </ul>

                        <h2>Class Definition</h2>

<pre>class Hello
    def initialize(name)
        @name = name
    end
    
    def hello
        puts "Hello, "+@name+"!"
    end
end

hi = Hello.new("Jack")
hi.hello</pre>

                        <h2>Accessors</h2>

<pre>class Dog
    attr :bark, true # creates getter/setter
end

class Dog
    attr_reader :bark # creates getter
    attr_writer :bark # creates setter
end

class Gaits
    attr_accessor :walk, :trot, :canter # creates multiple getters/setters
end
</pre>

                        <h2>Defining Class Methods</h2>

<pre>class Area
    def Area.rect(length, width, units="inches")
        area = length*width
        printf("The area is %.2f %s.", area, units)
        sprintf("%.2f", area)
    end
end</pre>

                        <h2>Defining a Singleton</h2>

<pre># Simple example:
class Singleton
end

s = Singleton.new
def s.handle
    puts "I'm a singleton method!"
end

s.handle # "I'm a singleton method!"

# Additional definition
class Area
    class << self
        def rect(length, width, units="inches")
            area = length*width
            printf("The area is %.2f %s.", area, units)
            sprintf("%.2f", area)
        end
    end
end</pre>

                        <h2>Inheritance</h2>

<pre>#!/usr/bin/env ruby

class Name
    attr_accessor :given_name, :family_name
end

class Address < Name
    attr_accessor :street, :city, :state, :country
end

a = Address.new
puts a.respond_to?(:given_name)  # true</pre>

                        <h2>Modules</h2>

<pre>module Dice
    # virtual dice roll
    def roll
        r_1 = rand(6); r_2 = rand(6)
        r1 = r_1>0?r_1:1; r2 = r_2>0?r_2:6
        total = r1+r2
        printf("You rolled %d and %d (%d).\n", r1, r2, total)
        total
    end
end

class Game
    include Dice
end

g = Game.new
g.roll</pre>

                        <h2>Protection</h2>

<pre>class Names
    def initialize(given, family, nick, pet)
        @given = given
        @family = family
        @nick = nick
        @pet = pet
    end
    
    # public by default
    def given
        @given
    end
    
    def family
        @family
    end
    
    # all following are private until changed
    private
    
    def nick
        @nick
    end
    
    # protected until changed
    protected
    
    def pet
        @pet
    end
end</pre>                    
                    </section>
                </div>
            </div>

            <footer>
            
            </footer>
        </article>
    </body>
</html>
